@using MudBlazor

<MudStack Row Wrap="Wrap.Wrap" Spacing="2" Class="mb-3">
    <MudChip T="string" 
             Color="@(ShowAllRecipes ? Color.Primary : Color.Default)" 
             Variant="@(ShowAllRecipes ? Variant.Filled : Variant.Outlined)"
             OnClick="OnShowAll">
        Toutes (@TotalCount)
    </MudChip>
    
    <MudChip T="string" 
             Color="@(QuickFilterRating == 5 ? Color.Success : Color.Default)" 
             Variant="@(QuickFilterRating == 5 ? Variant.Filled : Variant.Outlined)"
             OnClick="() => OnApplyQuickFilter.InvokeAsync(5)"
             Icon="@Icons.Material.Filled.LocalPizza">
        5 Pizzas (@FiveStarCount)
    </MudChip>
    
    <MudChip T="string" 
             Color="@(QuickFilterRating == 4 ? Color.Info : Color.Default)" 
             Variant="@(QuickFilterRating == 4 ? Variant.Filled : Variant.Outlined)"
             OnClick="() => OnApplyQuickFilter.InvokeAsync(4)"
             Icon="@Icons.Material.Filled.LocalPizza">
        4+ Pizzas (@FourPlusStarCount)
    </MudChip>
    
    <MudChip T="string" 
             Color="@(QuickFilterUnrated ? Color.Dark : Color.Default)" 
             Variant="@(QuickFilterUnrated ? Variant.Filled : Variant.Outlined)"
             OnClick="OnShowUnrated"
             Icon="@Icons.Material.Filled.HelpOutline">
        Non évaluées (@UnratedCount)
    </MudChip>
    
    <MudChip T="string" 
             Color="@(ShowFavorites ? Color.Error : Color.Default)" 
             Variant="@(ShowFavorites ? Variant.Filled : Variant.Outlined)"
             OnClick="OnShowFavorites"
             Icon="@Icons.Material.Filled.Favorite">
        Mes Favoris (@FavoritesCount)
    </MudChip>
    
    <MudChip T="string" 
             Color="@(ShowRecentRecipes ? Color.Info : Color.Default)" 
             Variant="@(ShowRecentRecipes ? Variant.Filled : Variant.Outlined)"
             OnClick="OnShowRecent"
             Icon="@Icons.Material.Filled.Schedule">
        Ajoutées récemment (30j)
    </MudChip>
    
    <MudChip T="string" 
             Color="Color.Secondary" 
             Variant="Variant.Outlined"
             OnClick="OnShowRandom"
             Icon="@Icons.Material.Filled.Shuffle">
        Surprise !
    </MudChip>
    
    @if (HasActiveFilters)
    {
        <MudChip T="string" 
                 Color="Color.Error" 
                 Variant="Variant.Filled"
                 OnClick="OnClearAllFilters"
                 Icon="@Icons.Material.Filled.Clear">
            Réinitialiser les filtres
        </MudChip>
    }
</MudStack>

@code {
    [Parameter, EditorRequired] public bool ShowAllRecipes { get; set; }
    [Parameter, EditorRequired] public int? QuickFilterRating { get; set; }
    [Parameter, EditorRequired] public bool QuickFilterUnrated { get; set; }
    [Parameter, EditorRequired] public bool ShowRecentRecipes { get; set; }
    [Parameter, EditorRequired] public bool ShowFavorites { get; set; }
    [Parameter, EditorRequired] public bool HasActiveFilters { get; set; }
    
    [Parameter, EditorRequired] public int TotalCount { get; set; }
    [Parameter, EditorRequired] public int FiveStarCount { get; set; }
    [Parameter, EditorRequired] public int FourPlusStarCount { get; set; }
    [Parameter, EditorRequired] public int UnratedCount { get; set; }
    [Parameter, EditorRequired] public int FavoritesCount { get; set; }
    
    [Parameter, EditorRequired] public EventCallback OnShowAll { get; set; }
    [Parameter, EditorRequired] public EventCallback<int> OnApplyQuickFilter { get; set; }
    [Parameter, EditorRequired] public EventCallback OnShowUnrated { get; set; }
    [Parameter, EditorRequired] public EventCallback OnShowFavorites { get; set; }
    [Parameter, EditorRequired] public EventCallback OnShowRecent { get; set; }
    [Parameter, EditorRequired] public EventCallback OnShowRandom { get; set; }
    [Parameter, EditorRequired] public EventCallback OnClearAllFilters { get; set; }
}
